<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="../css/style.css">

        <title>générateur exercice sur la dichotomie</title>
    </head>
    <body>
	
		<style>
			table {
				border : solid 1px white;
			}
			
			td {
				border : solid 1px white;
				width:200px;
				height:40px;
				text-align:center;
			}

			body{
				font-size: 1.5em;
			}
			
			.cache {
				display:none;
			}
			
			sub, sup {
				font-size : 0.5em;
			}
			

			#affiche {
			margin:25px 0px 25px 0px;
			}
			
			#reponse .big {
				font-size: 1em;
			}

			.frac{
				display:inline-block;
				margin-left:.1em;margin-right:.1em;
				vertical-align:-64%;
				text-align:center;
				}
				
			.frac > .num, .frac > .den{
				display:inline-block;
				padding:0 .1em;
				}
				
			.frac > .fracbar {
				display:block;
				height:0;margin:0;border:0;
				border-bottom:.1em solid;
				overflow:hidden;
				}
				
			.den{vertical-align:top;}
			
		@media screen and (min-width: 795px) {
			body{
				font-size: 1em;
				}
			}				
			
		</style>
		<header>
			<p><a href="https://maristudy.github.io/MathGretaBTS_CPRP/"> gitpage </a> </p>
		</header>
		<main>
		

			<a href="../index.html">Retour à l'accueil</a>
			<div class="enonce">
				<p>	x<sub>A</sub><sup>2</sup></p>
			</div>
			<p id="affiche">Afficher la réponse</p>
			<div id="reponse" class="cache">
			
			</div>

		</main>
		<footer>

		</footer>
		
		<script>
		
		/*
		
prendre 2 valeurs avec 3 décimales, avec 5 à 10 d'écart. somme et produit => polynome
1/ tableau de valeurs
2/ trouver les 2 racines par dichotomie

		
		
		
		*/
			enonce = document.getElementsByClassName("enonce")[0];
			
			
			
			
			 let x1min = Math.floor(Math.random()*5) + 1;
			 let x2min = Math.floor(Math.random()*5) + 7;
			 let x1max=x1min+1;
			 let x2max=x2min+1;
			 let n1 = Math.floor(Math.random()*15) + 1;
			 let n2 = Math.floor(Math.random()*15) + 1;
			 
			 while(n1==n2)
			 {
				n2 = Math.floor(Math.random()*16);
			 }
			 
			let decix1 = 0.03125+(n1 * 0.0625);
			let decix2 = 0.03125+(n2 * 0.0625);
			let x1 = x1min+decix1
			let x2 = x2min+decix2
			let s = (x1) + (x2);
			let p = (x1) * (x2);
			let valMin,valMax,milieu, valMilieu, solution;
			function calcul(val,somme,produit)
			{
				let result=(val*val)-(somme*val)+produit;
				return result
			}


			question="En utilisant un raisonnement par dichotomie, on vous demande de trouver les deux solutions de l'équation suivante : <br>f(x) = 0 avec "+
					"f(x) = x<sup>2</sup> - "+s+" x + "+p+" <br> La racine X1 est comprise entre "+x1min+" et "+x1max+", la racine X2 est comprise entre "+x2min+" et "+x2max+
					". Pour chaque racine, vous ferez 5 itérations en justifiant votre choix.<br>";			
			enonce.innerHTML= question;
			
		<!-- <sub> pour indice <sup> pour exposant &infin; symbole infini ; &Delta symbol delta;-->
		<!-- https://www.w3schools.com/html/html_symbols.asp -->
		
			reponse = document.getElementById("reponse");
			solution="Pour X1 : ";
			for(let i=1;i<=5;i++)
			{ 
				valMin= calcul(x1min,s,p);
				valMax= calcul(x1max,s,p);
				milieu=(x1min+x1max)/2;
				valMilieu=calcul(milieu,s,p);
				solution = solution + "<br>Itération "+i+" : <br>On effectue notre recherche sur l'interval [ "+x1min+" ; "+x1max+" ]. On a f("+x1min+") = "+valMin+" et f("+x1max+") = "+valMax;
				solution = solution + ". <br>Le milieu de l'intervalle est x = "+milieu+". On a f("+milieu+") = "+valMilieu+". <br>";

				if(valMilieu!=0)
				{

					if( ( (valMin<0) && (valMilieu<0) ) || ( (valMin>0) && (valMilieu>0) ) )
					{
						solution = solution + valMilieu +" et "+valMax+" sont de signe contraire. Nous continuons notre recherche sur l'intervalle [ "+milieu+" ; "+x1max+" ]";
						x1min=milieu;
					}
					else
					{
						solution = solution + valMin +" et "+valMilieu+" sont de signe contraire. Nous continuons notre recherche sur l'intervalle [ "+x1min+" ; "+milieu+" ]";
						x1max=milieu;				
					}
				}
				else
				{
					solution = solution + "On a trouvé une solution pour x="+milieu;
				}
			}
			
			solution = solution +"<br><br>Pour X2 : ";
			for(let i=1;i<=5;i++)
			{ 
				valMin= calcul(x2min,s,p);
				valMax= calcul(x2max,s,p);
				milieu=(x2min+x2max)/2;
				valMilieu=calcul(milieu,s,p);
				solution = solution + "<br>Itération "+i+" : <br>On effectue notre recherche sur l'interval [ "+x2min+" ; "+x2max+" ]. On a f("+x2min+") = "+valMin+" et f("+x2max+") = "+valMax;
				solution = solution + ". <br>Le milieu de l'intervalle est x = "+milieu+". On a f("+milieu+") = "+valMilieu+". <br>";

				if(valMilieu!=0)
				{

					if( ( (valMin<0) && (valMilieu<0) ) || ( (valMin>0) && (valMilieu>0) ) )
					{
						solution = solution + valMilieu +" et "+valMax+" sont de signe contraire. Nous continuons notre recherche sur l'intervalle [ "+milieu+" ; "+x2max+" ]";
						x2min=milieu;
					}
					else
					{
						solution = solution + valMin +" et "+valMilieu+" sont de signe contraire. Nous continuons notre recherche sur l'intervalle [ "+x2min+" ; "+milieu+" ]";
						x2max=milieu;				
					}
				}
				else
				{
					solution = solution + "On a trouvé une solution pour x="+milieu;
				}
			}			
			
			
			
			
			
			
			reponse.innerHTML= solution;
		

			affiche=document.getElementById("affiche");
			affiche.addEventListener("click",() => {
				document.getElementById("reponse").classList.toggle("cache");
		
			});
			
		</script>
		
	</body>
</html>
